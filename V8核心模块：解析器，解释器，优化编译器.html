<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/607595 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="552"/>

<div>
<span><div><br/></div><div style="min-height: 12292px; font-size: 16px; min-width: 100%; position: relative;"><div style="text-size-adjust: 100%; font-size: 12px; word-break: break-word; text-rendering: optimizeLegibility; -webkit-font-smoothing: unset;"><div style="font-size: 12px; word-break: break-word; background-color: rgb(242, 243, 245); -webkit-font-smoothing: unset;"><div style="overflow-x:initial;"><div style="box-sizing:border-box;"><div style="background-color:rgb(255, 255, 255);box-sizing:border-box;overflow:hidden;border-radius:4px 4px 0px 0px;"><h1 style="font-size: 32.004px; margin: 0px 0px 1.667rem;"><span style="font-size: 32.004px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.31; font-weight: 600;">V8核心模块：解析器，解释器，优化编译器</span></h1><div style="display:flex;align-items:center;margin-bottom:20.004px;"><div style="display:flex;min-width:0px;flex-grow:1;"><div style="height:23.9915px;display:flex;align-items:center;"><a href="https://juejin.cn/user/1865245014894967/posts" style="background-color: transparent; margin: initial; cursor: pointer; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: flex; align-items: center; font-size: 14px; font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 24px; color: rgb(81, 87, 103); font-weight: 500; text-decoration: none;" target="_blank"></a></div><div style="font-size: 14px; display: flex; align-items: center;"><span style="font-size: 14px; color: rgb(138, 145, 159); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 22px;">  </span></div></div></div><div style="word-break: break-word; font-size: 16px; overflow-x: hidden;"><blockquote style="padding: 1px 23px; margin: 22px 0px; border-left: 4px solid rgb(203, 203, 203); background-color: rgb(248, 248, 248);"><h3 style="margin-top: 35px; margin-bottom: 10px; padding-bottom: 5px; font-size: 20px;"><span style="font-size: 20px; color: rgb(102, 102, 102); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 28px; font-weight: 400;">V8是怎么执行JavaScript代码的？</span></h3></blockquote><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">当V8执行JavaScript源码时，首先</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">解析器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">会把源码解析为抽象语法树（Abstract Syntax Tree），</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">解释器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">再将AST翻译为字节码，一遍解释一遍执行。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">在此过程中，</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">解释器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">会记特定代码片段的运行次数，如果代码运行次数超过某个阈值，那么该段代码就被标记为热代码，并将运行信息反馈给</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">优化编译器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">优化编译器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">根据反馈信息，优化并编译字节码，最终生成优化后的机器码，当该段代码再次执行时，不用再次解释，提升了效率。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">这种在运行时编译代码的技术称之为JIT(即时编译)，通过JIT可以极大提升JavaScript代码的执行性能。</span></div><h3 style="margin-top: 35px; margin-bottom: 10px; padding-bottom: 5px; font-size: 20px;"><span style="font-size: 20px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 28px; font-weight: 400;">简单介绍每个的作用</span></h3><ul style="padding:0px;margin:0px;padding-left:28px;"><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">解析器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">将 JavaScript 源码解析为 AST，解析过程分为词法分析和语法分析，V8 通过预解析提升解析效率；</span></div></li><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">解释器 Ignition</span> <span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">根据 AST 生成字节码并执行。这个过程中会收集执行反馈信息，交给 TurboFan 进行优化编译；</span></div></li><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">TurboFan</span> <span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">根据 Ignition 收集的反馈信息，将字节码编译为优化后的机器码，后续 Ignition 用优化机器码代替字节码执行，进而提升性能。</span></div></li></ul><blockquote style="padding: 1px 23px; margin: 22px 0px; border-left: 4px solid rgb(203, 203, 203); background-color: rgb(248, 248, 248);"><h4 style="margin-top: 35px; margin-bottom: 10px; padding-bottom: 5px; font-size: 18px;"><span style="font-size: 18px; color: rgb(102, 102, 102); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 26px; font-weight: 400;">解析器（Parser）如何把源码转成AST？</span></h4></blockquote><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">让V8执行我们的编写的源码，就要将源码装换成V8能理解的格式。V8会先把源码解析为抽象语法树（AST），这是用来表示源码的树形结构的对象，这个过程称之为</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 700;">解析（Parsing）</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">解析和编译过程的性能非常重要，V8只有等编译完成后才能运行代码。解析过程如下图：</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/f7f77b0edf8b4efd976be620ad201e3e~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" type="image/webp" data-filename="f7f77b0edf8b4efd976be620ad201e3e~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" height="253" style="border-style:none;z-index:10000;cursor:zoom-in;margin:0px;transition:transform 0.3s cubic-bezier(0.2, 0, 0.2, 1) 0s;max-width:100%;" width="756"/></span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">分为两部分：</span></div><ol style="padding-left:28px;"><li style="margin-bottom:0px;list-style:inherit;padding-left:6px;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">词法分析：将</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">字符流</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">转换为tokens，</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">字符流</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">就是我们编写的一行行代码，token是指语法上不能再分割的最小单位（可能是单个字符，也可能是字符串）图中的Scanner就是V8的</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 700;">词法分析器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">。</span></div></li><li style="margin-bottom:0px;list-style:inherit;padding-left:6px;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">语法分析：根据语法规则，将tokens组成一个有嵌套层级的AST，在此过程，如果源码不符合语法规范，解析过程就会终止，并抛出语法错误。图中的Parser和Pre-Parse都是V8的</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 700;">语法分析器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">。</span></div></li></ol><h5 style="margin-top: 35px; margin-bottom: 10px; padding-bottom: 5px; font-size: 17px;"><span style="font-size: 17px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 24px; font-weight: 400;">词法分析</span></h5><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">在V8中，Scanner负责接收Unicode字符流，并将其解析为tokens，提供给解析器使用。比如 var a = 1;，这行代码经过词法分析后的tokens是这样：</span></div><div style="font-size: 1em; overflow: auto; position: relative; background: rgb(248, 248, 248);"><div style="display:flex;user-select:none;height:28px;align-items:center;justify-content:space-between;box-shadow:rgb(136, 136, 136) 0px 4px 5px -6px;margin-bottom:3px;background-color:rgb(248, 248, 248);"><div style="display:flex;align-items:center;margin-left:10px;"><div style="display:flex;align-items:center;justify-content:center;width:18px;height:18px;filter:invert(0.8);"><span style="color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/svg_2.svg" type="image/svg+xml" data-filename="svg_2.svg" style="height:100%;overflow:hidden;"/></span></div></div><div style="display:flex;align-items:center;margin-right:10px;"><div><span style="margin-left: 20px; font-size: 12px; filter: invert(0.5); opacity: 0.6; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">json</span></div><div style="font-size:12px;filter:invert(0.5);margin:0px 10px;opacity:0.6;"><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">复制代码</span></div></div></div><div lang="json" style="border-radius: 2px; margin: 0px; font-size: 12px; word-break: normal; overflow-x: auto; padding: 15px 12px 15px 0px; background: rgb(248, 248, 248);"><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span>[</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span> {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">3</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;type&quot;:</span> <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;Keyword&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">4</span> &quot;value&quot;: <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;var&quot;</span></span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">5</span> },</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">6</span> {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">7</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;type&quot;:</span> <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;Identifier&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">8</span> &quot;value&quot;: <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;a&quot;</span></span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">9</span> },</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">10</span> {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">11</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;type&quot;:</span> <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;Punctuator&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">12</span> &quot;value&quot;: <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;=&quot;</span></span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">13</span> },</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">14</span> {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">15</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;type&quot;:</span> <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;Numeric&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">16</span> &quot;value&quot;: <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;1&quot;</span></span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">17</span> },</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">18</span> {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">19</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;type&quot;:</span> <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;Punctuator&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">20</span> &quot;value&quot;: <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;;&quot;</span></span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">21</span> }</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">22</span>]</span></div></div></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">包含了五个tokens：</span></div><ul style="padding:0px;margin:0px;padding-left:28px;"><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">关键字 var</span></div></li><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">标识符 a</span></div></li><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">赋值运算符 =</span></div></li><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">数值 1</span></div></li><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">分隔符 ；</span></div></li></ul><h5 style="margin-top: 35px; margin-bottom: 10px; padding-bottom: 5px; font-size: 17px;"><span style="font-size: 17px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 24px; font-weight: 400;">语法分析</span></h5><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">接下来，V8的解析器会通过语法分析，根据tokens生成AST，var a = 1; 这行代码生成的AST的JSON结构如下所示：</span></div><div style="font-size: 1em; overflow: auto; position: relative; background: rgb(248, 248, 248);"><div style="display:flex;user-select:none;height:28px;align-items:center;justify-content:space-between;box-shadow:rgb(136, 136, 136) 0px 4px 5px -6px;margin-bottom:3px;background-color:rgb(248, 248, 248);"><div style="display:flex;align-items:center;margin-left:10px;"><div style="display:flex;align-items:center;justify-content:center;width:18px;height:18px;filter:invert(0.8);"><span style="color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/svg_3.svg" type="image/svg+xml" data-filename="svg_3.svg" style="height:100%;overflow:hidden;"/></span></div></div><div style="display:flex;align-items:center;margin-right:10px;"><div><span style="margin-left: 20px; font-size: 12px; filter: invert(0.5); opacity: 0.6; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">json</span></div><div style="font-size:12px;filter:invert(0.5);margin:0px 10px;opacity:0.6;"><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">复制代码</span></div></div></div><div lang="json" style="border-radius: 2px; margin: 0px; font-size: 12px; word-break: normal; overflow-x: auto; padding: 15px 12px 15px 0px; background: rgb(248, 248, 248);"><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span>{</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;type&quot;:</span> <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;Program&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">3</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;start&quot;:</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">0</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">4</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;end&quot;:</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">10</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">5</span> &quot;body&quot;: [</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">6</span> {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">7</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;type&quot;:</span> <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;VariableDeclaration&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">8</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;start&quot;:</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">0</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">9</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;end&quot;:</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">10</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">10</span> &quot;declarations&quot;: [</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">11</span> {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">12</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;type&quot;:</span> <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;VariableDeclarator&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">13</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;start&quot;:</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">4</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">14</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;end&quot;:</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">9</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">15</span> &quot;id&quot;: {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">16</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;type&quot;:</span> <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;Identifier&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">17</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;start&quot;:</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">4</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">18</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;end&quot;:</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">5</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">19</span> &quot;name&quot;: <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;a&quot;</span></span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">20</span> },</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">21</span> &quot;init&quot;: {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">22</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;type&quot;:</span> <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;Literal&quot;</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">23</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;start&quot;:</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">8</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">24</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;end&quot;:</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">9</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">25</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&quot;value&quot;:</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">26</span> &quot;raw&quot;: <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;1&quot;</span></span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">27</span> }</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">28</span> }</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">29</span> ],</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">30</span> &quot;kind&quot;: <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;var&quot;</span></span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">31</span> }</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">32</span> ],</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">33</span> &quot;sourceType&quot;: <span style="font-size: 12px; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">&quot;module&quot;</span></span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">34</span>}</span></div></div></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">对生成AST内容感兴趣的可以在</span> <a href="https://link.juejin.cn/?target=https%3A%2F%2Fastexplorer.net%2F" style="background-color: transparent; margin: initial; cursor: pointer; border-bottom: 1px solid rgb(209, 233, 255); font-size: 16px; font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400; color: rgb(2, 105, 200); text-decoration: none;" target="_blank" title="https://astexplorer.net/">astexplorer.net/</a> <span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">中查看。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">但是，对于一份JavaScript源码，如果所有的源码在执行前都要解析才能执行，那会面临一下问题。</span></div><ul style="padding:0px;margin:0px;padding-left:28px;"><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 700;">代码执行时间变长</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">：一次性解析所有代码，必然会增加代码的运行时间。</span></div></li><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 700;">消耗更多内存</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">：解析完的AST，以及根据AST编译后的字节码都会存放在内存中，必然会占用更多内存空间。</span></div></li><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 700;">占用磁盘空间</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">：编译后的代码会缓存在磁盘上，占用磁盘空间。 所以，现在主流JavaScript引擎都实现了延迟解析（Lazy Parsing）。</span></div></li></ul><h5 style="margin-top: 35px; margin-bottom: 10px; padding-bottom: 5px; font-size: 17px;"><span style="font-size: 17px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 24px; font-weight: 400;">延迟解析</span></h5><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">延迟解析的思想：在解析过程中，对于不是立即执行的函数，只进行</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 700;">预解析（Pre Parser）</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">,只有当函数调用时，才对函数进行全量解析。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">进行预解析时，只验证函数语法是否有效，解析函数声明、确定函数作用域。不生成AST，实现预解析的是Pre-Parser解析器。</span></div><div style="font-size: 1em; overflow: auto; position: relative; background: rgb(248, 248, 248);"><div style="display:flex;user-select:none;height:28px;align-items:center;justify-content:space-between;box-shadow:rgb(136, 136, 136) 0px 4px 5px -6px;margin-bottom:3px;background-color:rgb(248, 248, 248);"><div style="display:flex;align-items:center;margin-left:10px;"><div style="display:flex;align-items:center;justify-content:center;width:18px;height:18px;filter:invert(0.8);"><span style="color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/svg_4.svg" type="image/svg+xml" data-filename="svg_4.svg" style="height:100%;overflow:hidden;"/></span></div></div><div style="display:flex;align-items:center;margin-right:10px;"><div><span style="margin-left: 20px; font-size: 12px; filter: invert(0.5); opacity: 0.6; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">js</span></div><div style="font-size:12px;filter:invert(0.5);margin:0px 10px;opacity:0.6;"><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">复制代码</span></div></div></div><div lang="js" style="border-radius: 2px; margin: 0px; font-size: 12px; word-break: normal; overflow-x: auto; padding: 15px 12px 15px 0px; background: rgb(248, 248, 248);"><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">function</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">foo</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(a, b) {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">var</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">res = a + b;</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">3</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">return</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">res;</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">4</span>}</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">5</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">var</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">a =</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">;</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">6</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">var</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">c =</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">;</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">7</span><span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">foo</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(</span><span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">);</span></div></div></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">由于 Scanner 是按字节流从上往下一行行读取代码的，所以 V8 解析器也是从上往下解析代码。当 V8 解析器遇到函数声明 foo 时，发现它不是立即执行，所以会用</span> <span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">Pre-Parser 解析器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">对其预解析，过程中只会解析函数声明，不会解析函数内部代码，不会为函数内部代码生成 AST。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">然后</span> <span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">Ignition 解释器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">会把 AST 编译为字节码并执行，解释器会按照自上而下的顺序执行代码，先执行 var a = 1;  和 var c = 2; 两个赋值表达式，然后执行函数调用 foo(1, 2) ，这时 Parser 解析器才会继续解析函数内的代码、生成 AST，再交给</span> <span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">Ignition 解释器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">编译执行。</span></div><blockquote style="padding: 1px 23px; margin: 22px 0px; border-left: 4px solid rgb(203, 203, 203); background-color: rgb(248, 248, 248);"><h4 style="margin-top: 35px; margin-bottom: 10px; padding-bottom: 5px; font-size: 18px;"><span style="font-size: 18px; color: rgb(102, 102, 102); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 26px; font-weight: 400;">解释器（Ignition）如何将 AST翻译为字节码并执行？</span></h4></blockquote><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">在V8架构的演进中，</span><a href="https://juejin.cn/post/7060870761120006157" style="background-color: transparent; margin: initial; cursor: pointer; border-bottom: 1px solid rgb(209, 233, 255); font-size: 16px; font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400; color: rgb(2, 105, 200); text-decoration: none;" target="_blank" title="https://juejin.cn/post/7060870761120006157">浅谈V8脚本引擎的工作原理（二.V8脚本引擎的演进）</a><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">提到的V8为了解决内存占用问题，引入了字节码。如图，通常一个几十KB的文件，转换为机器码可能就是几十兆，这回消耗巨大内存。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/fcb4a66544a94d8eb8888ec56f605240~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" type="image/webp" data-filename="fcb4a66544a94d8eb8888ec56f605240~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" height="300" style="border-style:none;z-index:10000;cursor:zoom-in;margin:0px;transition:transform 0.3s cubic-bezier(0.2, 0, 0.2, 1) 0s;max-width:100%;" width="756"/></span></div><h5 style="margin-top: 35px; margin-bottom: 10px; padding-bottom: 5px; font-size: 17px;"><span style="font-size: 17px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 24px; font-weight: 400;">什么是字节码</span></h5><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">V8的字节码是对机器码的抽象，语法与汇编有些类似，我们可以把V8字节码看做一个个指令，这些指令组合到一起实现我们编写的功能，采用和物理CPU相同的计算模型进行设计。JavaScript源码的任何功能都可以等价转换成字节码的组合。字节码生成其实是遍历树的过程，V8定义了几百个字节码，可以在V8解释器头文件中查看到所有字节码</span><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fv8%2Fv8%2Fblob%2Fmaster%2Fsrc%2Finterpreter%2Fbytecodes.h" style="background-color: transparent; margin: initial; cursor: pointer; border-bottom: 1px solid rgb(209, 233, 255); font-size: 16px; font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400; color: rgb(2, 105, 200); text-decoration: none;" target="_blank" title="https://github.com/v8/v8/blob/master/src/interpreter/bytecodes.h">bytecodes.h</a><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">解释器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">在执行字节码时，主要使用通用寄存器和累加寄存器，函数参数和局部变量都保存在通用寄存器中r0,r1，累加寄存器用于保存中间结果（accumulator register）。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">举例说明字节码执行流程。 首先定义一个含有三个形参的函数f，函数功能就是对参数进行计算，并返回值。</span></div><div style="font-size: 1em; overflow: auto; position: relative; background: rgb(248, 248, 248);"><div style="display:flex;user-select:none;height:28px;align-items:center;justify-content:space-between;box-shadow:rgb(136, 136, 136) 0px 4px 5px -6px;margin-bottom:3px;background-color:rgb(248, 248, 248);"><div style="display:flex;align-items:center;margin-left:10px;"><div style="display:flex;align-items:center;justify-content:center;width:18px;height:18px;filter:invert(0.8);"><span style="color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/svg_5.svg" type="image/svg+xml" data-filename="svg_5.svg" style="height:100%;overflow:hidden;"/></span></div></div><div style="display:flex;align-items:center;margin-right:10px;"><div><span style="margin-left: 20px; font-size: 12px; filter: invert(0.5); opacity: 0.6; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">js</span></div><div style="font-size:12px;filter:invert(0.5);margin:0px 10px;opacity:0.6;"><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">复制代码</span></div></div></div><div lang="js" style="border-radius: 2px; margin: 0px; font-size: 12px; word-break: normal; overflow-x: auto; padding: 15px 12px 15px 0px; background: rgb(248, 248, 248);"><div><span style="background-color:inherit;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span><span style="font-size: 12px; color: rgb(153, 153, 136); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; font-style: italic;">// index.js</span></span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">function</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">f</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(a, b, c) {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">3</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">var</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">d = c -</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">100</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">;</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">4</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">return</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">a + d * b;</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">5</span>}</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">6</span><span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">f</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(</span><span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">5</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">150</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">);</span></div></div></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">假设我们以实参5、2、150调用函数，则</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">解释器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">会把函数编译为字节码。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">可以通过node --print-bytecode index.js 来查看JavaScript文件生成的字节码。(会生成非常多，取了最后一段重要的)</span></div><div style="font-size: 1em; overflow: auto; position: relative; background: rgb(248, 248, 248);"><div style="display:flex;user-select:none;height:28px;align-items:center;justify-content:space-between;box-shadow:rgb(136, 136, 136) 0px 4px 5px -6px;margin-bottom:3px;background-color:rgb(248, 248, 248);"><div style="display:flex;align-items:center;margin-left:10px;"><div style="display:flex;align-items:center;justify-content:center;width:18px;height:18px;filter:invert(0.8);"><span style="color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/svg_6.svg" type="image/svg+xml" data-filename="svg_6.svg" style="height:100%;overflow:hidden;"/></span></div></div><div style="display:flex;align-items:center;margin-right:10px;"><div><span style="margin-left: 20px; font-size: 12px; filter: invert(0.5); opacity: 0.6; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">js</span></div><div style="font-size:12px;filter:invert(0.5);margin:0px 10px;opacity:0.6;"><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">复制代码</span></div></div></div><div lang="js" style="border-radius: 2px; margin: 0px; font-size: 12px; word-break: normal; overflow-x: auto; padding: 15px 12px 15px 0px; background: rgb(248, 248, 248);"><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span>$ node --print-bytecode index.js</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span>...</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">3</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">[generated bytecode</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">for</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">function: f (</span><span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">0x242cd33a35b9</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&lt;</span><span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">SharedFunctionInfo</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">f&gt;)]</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">4</span><span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Parameter</span> count <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">4</span></span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">5</span><span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Register</span> count <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span></span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">6</span><span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Frame</span> size <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">8</span></span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">7</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">32</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">S&gt;</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">0x242cd33a3e06</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">@</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">0</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">:</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">25</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">02</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Ldar</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">a2</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">8</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">34</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">E&gt;</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">0x242cd33a3e08</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">@</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">:</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">41</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">64</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">00</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">SubSmi</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">[</span><span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">100</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">], [</span><span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">0</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">]</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">9</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">0x242cd33a3e0b</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">@</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">5</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">:</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">26</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">fb</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Star</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">r0</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">10</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">43</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">S&gt;</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">0x242cd33a3e0d</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">@</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">7</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">:</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">25</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">03</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Ldar</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">a1</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">11</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">56</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">E&gt;</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">0x242cd33a3e0f</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">@</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">9</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">:</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">36</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">fb</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">02</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Mul</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">r0, [</span><span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">]</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">12</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">52</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">E&gt;</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">0x242cd33a3e12</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">@</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">12</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">:</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">34</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">04</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">01</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Add</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">a0, [</span><span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">]</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">13</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">60</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">S&gt;</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">0x242cd33a3e15</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">@</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">15</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">: aa</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Return</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">14</span><span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Constant</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">pool (size =</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">0</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">)</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">15</span><span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Handler</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Table</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(size =</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">0</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">)</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">16</span><span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Source</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Position</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Table</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(size =</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">14</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">)</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">17</span><span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">0x242cd33a3e19</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">&lt;</span><span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">ByteArray</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">[</span><span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">14</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">]&gt;</span></div></div></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">当</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">解释器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">执行代码时，会把参数分别加载到a0、a1、a2寄存器上（图中 accumulator 表示累加寄存器）然后逐行执行字节码。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/3a79cde4a487437a806a1b6bb541e30e~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" type="image/webp" data-filename="3a79cde4a487437a806a1b6bb541e30e~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" height="239" style="border-style:none;z-index:10000;cursor:zoom-in;margin:0px;transition:transform 0.3s cubic-bezier(0.2, 0, 0.2, 1) 0s;max-width:100%;" width="756"/></span></div><ul style="padding:0px;margin:0px;padding-left:28px;"><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">读取形参 c 并做出计算</span></div></li><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">Ldar a2: Ldar表示将寄存器的值加载到累加器的操作。a2是加载的数值，加载后，accumulator的值为150。</span></div></li></ul><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/91079fae01304a739d045af0902b6dac~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" type="image/webp" data-filename="91079fae01304a739d045af0902b6dac~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" height="240" style="border-style:none;z-index:10000;cursor:zoom-in;margin:0px;transition:transform 0.3s cubic-bezier(0.2, 0, 0.2, 1) 0s;max-width:100%;" width="756"/></span></div><ul style="padding:0px;margin:0px;padding-left:28px;"><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">将计算结果放入累加寄存器中。</span></div></li><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">SubSmi [100], [0]：SubSmi [100] 表示将累加寄存器的值减少 100，这时 accumulator 的值就变为了 50，[0] 反馈向量 (FeedBack Vector) 的索引，反馈向量记录了函数在执行过程中的一些关键的中间数据。</span></div></li></ul><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/00e1dd22663c4035b760c9a242954827~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" type="image/webp" data-filename="00e1dd22663c4035b760c9a242954827~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" height="232" style="border-style:none;z-index:10000;cursor:zoom-in;margin:0px;transition:transform 0.3s cubic-bezier(0.2, 0, 0.2, 1) 0s;max-width:100%;" width="756"/></span></div><ul style="padding:0px;margin:0px;padding-left:28px;"><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">将累加寄存器的值放到r0中临时记录 也是变量</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">b</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">的值</span></div></li><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">Star r0：表示把累加器中的值保存到寄存器 r0 中，这时 r0 的值就变为了 50。</span></div></li></ul><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/111b233d19c941eab29bee77813f8a3a~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" type="image/webp" data-filename="111b233d19c941eab29bee77813f8a3a~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" height="232" style="border-style:none;z-index:10000;cursor:zoom-in;margin:0px;transition:transform 0.3s cubic-bezier(0.2, 0, 0.2, 1) 0s;max-width:100%;" width="756"/></span></div><ul style="padding:0px;margin:0px;padding-left:28px;"><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">读取</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">a + d * b</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">语句，先执行</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">d * b</span></div></li><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">Ldar a1:表示将寄存器a1的值加载到累加寄存器，这时accumulator的值变为2。</span></div></li></ul><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/fe904b4d2e754c38ac3665e8c7e75937~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" type="image/webp" data-filename="fe904b4d2e754c38ac3665e8c7e75937~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" height="232" style="border-style:none;z-index:10000;cursor:zoom-in;margin:0px;transition:transform 0.3s cubic-bezier(0.2, 0, 0.2, 1) 0s;max-width:100%;" width="756"/></span></div><ul style="padding:0px;margin:0px;padding-left:28px;"><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">继续执行</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">d * b</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">的第二个动作</span></div></li><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">Mul r0,[2]：Mul r0 表示将accumulator的值与 r0 寄存器的值相乘，并把结果再次放入累加寄存器，其中 [2] 同样是反馈向量，执行完毕后，accumulator 的值就变为了 100。</span></div></li></ul><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/d126a44a7dff4aef8df320bba657235d~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" type="image/webp" data-filename="d126a44a7dff4aef8df320bba657235d~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" height="232" style="border-style:none;z-index:10000;cursor:zoom-in;margin:0px;transition:transform 0.3s cubic-bezier(0.2, 0, 0.2, 1) 0s;max-width:100%;" width="756"/></span></div><ul style="padding:0px;margin:0px;padding-left:28px;"><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">执行</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">a + 100</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">的动作</span></div></li><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">Add a0, [1]：Add a0 表示将累加寄存器的值与 a0 寄存器的值相加，并将结果再次放入累加寄存器，这时 accumulator 的值就变为了 105。</span></div></li></ul><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/8e97e9e2ffbc45a580eb7b95ccc086db~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" type="image/webp" data-filename="8e97e9e2ffbc45a580eb7b95ccc086db~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" height="232" style="border-style:none;z-index:10000;cursor:zoom-in;margin:0px;transition:transform 0.3s cubic-bezier(0.2, 0, 0.2, 1) 0s;max-width:100%;" width="756"/></span></div><ul style="padding:0px;margin:0px;padding-left:28px;"><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">Return：表示结束当前函数的执行，并返回累加寄存器中的值，函数执行结果是 105。</span></div></li></ul><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">这是</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">解释器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">执行字节码的简单过程（中间省略了对AST遍历翻译成的字节码的环节），但依旧需要对字节码转换为机器码，CPU只识别机器码。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">看似多了一层字节码的转换感觉效率低了，但相比于机器码，字节码的优势是更方便进行性能优化，最主要是由</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">优化编译器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">编译热点代码。基于字节码的优化的架构性能远超直接转为机器码的架构性能。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">前面提到</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">Ignition解释器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">在执行的过程中，会标记重复执行的热点代码交给</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">TurboFan</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">生成效率更高的机器码，接下来看看</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">TurboFan</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">是如何工作的。</span></div><blockquote style="padding: 1px 23px; margin: 22px 0px; border-left: 4px solid rgb(203, 203, 203); background-color: rgb(248, 248, 248);"><h4 style="margin-top: 35px; margin-bottom: 10px; padding-bottom: 5px; font-size: 18px;"><span style="font-size: 18px; color: rgb(102, 102, 102); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 26px; font-weight: 400;">优化编译器（TuboFan）的工作原理</span></h4></blockquote><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">V8在提示JavaScript性能方面做了很多优化工作,其中最主要的有内联和逃逸分析两种算法。</span></div><h5 style="margin-top: 35px; margin-bottom: 10px; padding-bottom: 5px; font-size: 17px;"><span style="font-size: 17px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 24px; font-weight: 400;">内敛（inlining）</span></h5><div style="font-size: 1em; overflow: auto; position: relative; background: rgb(248, 248, 248);"><div style="display:flex;user-select:none;height:28px;align-items:center;justify-content:space-between;box-shadow:rgb(136, 136, 136) 0px 4px 5px -6px;margin-bottom:3px;background-color:rgb(248, 248, 248);"><div style="display:flex;align-items:center;margin-left:10px;"><div style="display:flex;align-items:center;justify-content:center;width:18px;height:18px;filter:invert(0.8);"><span style="color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/svg_7.svg" type="image/svg+xml" data-filename="svg_7.svg" style="height:100%;overflow:hidden;"/></span></div></div><div style="display:flex;align-items:center;margin-right:10px;"><div><span style="margin-left: 20px; font-size: 12px; filter: invert(0.5); opacity: 0.6; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">js</span></div><div style="font-size:12px;filter:invert(0.5);margin:0px 10px;opacity:0.6;"><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">复制代码</span></div></div></div><div lang="js" style="border-radius: 2px; margin: 0px; font-size: 12px; word-break: normal; overflow-x: auto; padding: 15px 12px 15px 0px; background: rgb(248, 248, 248);"><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">function</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">add</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(x, y) {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">return</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">x + y;</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">3</span>}</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">4</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">function</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">three</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">() {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">5</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">return</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">add</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(</span><span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">,</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">);</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">6</span>}</span></div></div></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">首先我们定义了一个求和函数</span> <span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">add</span> <span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">，函数有两个参数 x 和 y，然后定义了函数 three ，并在函数 three 中调用</span> <span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">add</span> <span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">函数。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">如果不经优化，直接编译该段代码，则会分别生成两个函数的机器码。但为了进一步提升性能，</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">TurboFan优化编译器</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">首先会对以上两个函数进行内联，然后再编译。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">由于函数</span> <span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">three</span> <span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">内部的行为就是求 1 和 2 的和，所以上面的代码就等价于下面的：</span></div><div style="font-size: 1em; overflow: auto; position: relative; background: rgb(248, 248, 248);"><div style="display:flex;user-select:none;height:28px;align-items:center;justify-content:space-between;box-shadow:rgb(136, 136, 136) 0px 4px 5px -6px;margin-bottom:3px;background-color:rgb(248, 248, 248);"><div style="display:flex;align-items:center;margin-left:10px;"><div style="display:flex;align-items:center;justify-content:center;width:18px;height:18px;filter:invert(0.8);"><span style="color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/svg_8.svg" type="image/svg+xml" data-filename="svg_8.svg" style="height:100%;overflow:hidden;"/></span></div></div><div style="display:flex;align-items:center;margin-right:10px;"><div><span style="margin-left: 20px; font-size: 12px; filter: invert(0.5); opacity: 0.6; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">js</span></div><div style="font-size:12px;filter:invert(0.5);margin:0px 10px;opacity:0.6;"><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">复制代码</span></div></div></div><div lang="js" style="border-radius: 2px; margin: 0px; font-size: 12px; word-break: normal; overflow-x: auto; padding: 15px 12px 15px 0px; background: rgb(248, 248, 248);"><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">function</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">three_add_inlined</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">() {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">var</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">x =</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">;</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">3</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">var</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">y =</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">;</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">4</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">var</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">add_return_value = x + y;</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">5</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">return</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">add_return_value;</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">6</span>}</span></div></div></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">更进一步，由于函数</span> <span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">three_add_inlined</span> <span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">中 x 和 y 的值都是确定的，所以</span> <span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">three_add_inlined</span> <span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">还可以进一步优化，直接返回结果 3 ：</span></div><div style="font-size: 1em; overflow: auto; position: relative; background: rgb(248, 248, 248);"><div style="display:flex;user-select:none;height:28px;align-items:center;justify-content:space-between;box-shadow:rgb(136, 136, 136) 0px 4px 5px -6px;margin-bottom:3px;background-color:rgb(248, 248, 248);"><div style="display:flex;align-items:center;margin-left:10px;"><div style="display:flex;align-items:center;justify-content:center;width:18px;height:18px;filter:invert(0.8);"><span style="color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/svg_9.svg" type="image/svg+xml" data-filename="svg_9.svg" style="height:100%;overflow:hidden;"/></span></div></div><div style="display:flex;align-items:center;margin-right:10px;"><div><span style="margin-left: 20px; font-size: 12px; filter: invert(0.5); opacity: 0.6; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">js</span></div><div style="font-size:12px;filter:invert(0.5);margin:0px 10px;opacity:0.6;"><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">复制代码</span></div></div></div><div lang="js" style="border-radius: 2px; margin: 0px; font-size: 12px; word-break: normal; overflow-x: auto; padding: 15px 12px 15px 0px; background: rgb(248, 248, 248);"><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">function</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">three_add_const_folded</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">() {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">return</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">3</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">;</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">3</span>}</span></div></div></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/08500e53020c41b4982799ceac8543ff~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" type="image/webp" data-filename="08500e53020c41b4982799ceac8543ff~tplv-k3u1fbpfcp-zoom-in-crop-mark%3A4536%3A0%3A0%3A0.webp" height="398" style="border-style:none;z-index:10000;cursor:zoom-in;margin:0px;transition:transform 0.3s cubic-bezier(0.2, 0, 0.2, 1) 0s;max-width:100%;" width="756"/></span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">通过内联，可以降低复杂度、消除冗余代码、合并常量，并且内联技术通常也是逃逸分析的基础。那什么又是逃逸分析呢？</span></div><h5 style="margin-top: 35px; margin-bottom: 10px; padding-bottom: 5px; font-size: 17px;"><span style="font-size: 17px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 24px; font-weight: 400;">逃逸分析（Escape Analysis）</span></h5><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">分析对象的生命周期是否仅限于当前函数。</span></div><div style="font-size: 1em; overflow: auto; position: relative; background: rgb(248, 248, 248);"><div style="display:flex;user-select:none;height:28px;align-items:center;justify-content:space-between;box-shadow:rgb(136, 136, 136) 0px 4px 5px -6px;margin-bottom:3px;background-color:rgb(248, 248, 248);"><div style="display:flex;align-items:center;margin-left:10px;"><div style="display:flex;align-items:center;justify-content:center;width:18px;height:18px;filter:invert(0.8);"><span style="color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/svg_10.svg" type="image/svg+xml" data-filename="svg_10.svg" style="height:100%;overflow:hidden;"/></span></div></div><div style="display:flex;align-items:center;margin-right:10px;"><div><span style="margin-left: 20px; font-size: 12px; filter: invert(0.5); opacity: 0.6; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">js</span></div><div style="font-size:12px;filter:invert(0.5);margin:0px 10px;opacity:0.6;"><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">复制代码</span></div></div></div><div lang="js" style="border-radius: 2px; margin: 0px; font-size: 12px; word-break: normal; overflow-x: auto; padding: 15px 12px 15px 0px; background: rgb(248, 248, 248);"><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">class</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Point</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">{</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">constructor</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(x, y) {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">3</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">this</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">.x = x;</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">4</span> <span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">this</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">.y = y;</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">5</span> }</span></div><div><span style="background-color:inherit;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">6</span></span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">7</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">distance</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(that) {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">8</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">return</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Math</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">.</span><span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">abs</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(</span><span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">this</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">.x - that.x)</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">9</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">+</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Math</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">.</span><span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">abs</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(</span><span style="font-size: 12px; color: teal; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">this</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">.y - that.y);</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">10</span> }</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">11</span>}</span></div><div><span style="background-color:inherit;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">12</span></span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">13</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">function</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">manhattan</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(x1, y1, x2, y2) {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">14</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">const</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">a =</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">new</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Point</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(x1, y1);</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">15</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">const</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">b =</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">new</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Point</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(x2, y2);</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">16</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">return</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">a.</span><span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">distance</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(b);</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">17</span>}</span></div><div><span style="background-color:inherit;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">18</span></span></div></div></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">我们定义了一个</span> <span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">Point</span><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">  类，用于表示某个点的坐标，类中有个</span> <span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">distance</span> <span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">方法，用来计算两个点之前的曼哈顿距离。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">然后我们在</span> <span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">manhattan</span> <span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">函数中 new 了两个点， a 和 b ，并计算 a b 的曼哈顿距离。</span><span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">TurboFan</span> <span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">首先会通过内联，将</span> <span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">manhattan</span> <span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">函数转换为下面这样的函数：</span></div><div style="font-size: 1em; overflow: auto; position: relative; background: rgb(248, 248, 248);"><div style="display:flex;user-select:none;height:28px;align-items:center;justify-content:space-between;box-shadow:rgb(136, 136, 136) 0px 4px 5px -6px;margin-bottom:3px;background-color:rgb(248, 248, 248);"><div style="display:flex;align-items:center;margin-left:10px;"><div style="display:flex;align-items:center;justify-content:center;width:18px;height:18px;filter:invert(0.8);"><span style="color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/svg_11.svg" type="image/svg+xml" data-filename="svg_11.svg" style="height:100%;overflow:hidden;"/></span></div></div><div style="display:flex;align-items:center;margin-right:10px;"><div><span style="margin-left: 20px; font-size: 12px; filter: invert(0.5); opacity: 0.6; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">js</span></div><div style="font-size:12px;filter:invert(0.5);margin:0px 10px;opacity:0.6;"><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">复制代码</span></div></div></div><div lang="js" style="border-radius: 2px; margin: 0px; font-size: 12px; word-break: normal; overflow-x: auto; padding: 15px 12px 15px 0px; background: rgb(248, 248, 248);"><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">function</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">manhattan_inlined</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(x1, y1, x2, y2) {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">const</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">a = {x:x1, y:y1};</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">3</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">const</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">b = {x:x2, y:y2};</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">4</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">return</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Math</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">.</span><span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">abs</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(a.x - b.x)</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">5</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">+</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Math</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">.</span><span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">abs</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(a.y - b.y);</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">6</span>}</span></div><div><span style="background-color:inherit;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">7</span></span></div></div></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">再接下来就会对</span> <span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">manhattan_inlined</span> <span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">中的对象进行逃逸分析。什么样的对象会被认为是“未逃逸”的呢？主要有以下几个条件：</span></div><ul style="padding:0px;margin:0px;padding-left:28px;"><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">对象在函数内部定义；</span></div></li><li style="margin-bottom:0px;list-style:inherit;"><div><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">对象在作用域函数内部，如：没有被返回、没有传递应用给其他函数等。</span></div></li></ul><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">在</span> <span style="font-size: 0.87em; color: rgb(255, 80, 44); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: rgb(255, 245, 245); word-break: break-word; border-radius: 2px; overflow-x: auto; padding: 0.065em 0.4em;">manhattan_inlined</span> <span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">中，变量 a b 都是函数内的普通对象，所以它们都是“未逃逸”对象。那么我们就可以对函数中的对象进行替换，使用标量替换掉对象：</span></div><div style="font-size: 1em; overflow: auto; position: relative; background: rgb(248, 248, 248);"><div style="display:flex;user-select:none;height:28px;align-items:center;justify-content:space-between;box-shadow:rgb(136, 136, 136) 0px 4px 5px -6px;margin-bottom:3px;background-color:rgb(248, 248, 248);"><div style="display:flex;align-items:center;margin-left:10px;"><div style="display:flex;align-items:center;justify-content:center;width:18px;height:18px;filter:invert(0.8);"><span style="color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><img src="YinXiangBiJi.notes_files/svg_12.svg" type="image/svg+xml" data-filename="svg_12.svg" style="height:100%;overflow:hidden;"/></span></div></div><div style="display:flex;align-items:center;margin-right:10px;"><div><span style="margin-left: 20px; font-size: 12px; filter: invert(0.5); opacity: 0.6; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">js</span></div><div style="font-size:12px;filter:invert(0.5);margin:0px 10px;opacity:0.6;"><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">复制代码</span></div></div></div><div lang="js" style="border-radius: 2px; margin: 0px; font-size: 12px; word-break: normal; overflow-x: auto; padding: 15px 12px 15px 0px; background: rgb(248, 248, 248);"><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">1</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">function</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">manhattan_scalar_eplacement</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(x1, y1, x2, y2) {</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">2</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">var</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">a_x = x1;</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">3</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">var</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">a_y = y1;</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">4</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">var</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">b_x = x2;</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">5</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">var</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">b_y = y2;</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">6</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">return</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Math</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">.</span><span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">abs</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(a_x - b_x)</span></div><div><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">7</span> <span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">+</span> <span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">Math</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">.</span><span style="font-size: 12px; color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 700;">abs</span><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400; background-color: inherit;">(a_y - b_y);</span></div><div><span style="background-color: inherit; font-size: 12px; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;"><span style="user-select: none; background-color: inherit; text-align: center; display: inline-block; width: 18px; padding: 0px 10px; box-sizing: content-box; position: sticky; left: 0px; font-size: 12px; color: gray; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; line-height: 1.75; font-weight: 400;">8</span>}</span></div></div></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">这样函数内就不再有对象定义，取而代之的是 a_x a_y b_x b_y ，且直接来源于函数参数。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><span style="font-size: 16px; color: rgb(37, 41, 51); font-family: -apple-system, system-ui, &quot;Segoe UI&quot;, Roboto, Ubuntu, Cantarell, &quot;Noto Sans&quot;, sans-serif, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial; line-height: 1.75; font-weight: 400;">这样做的好处是，我们可以直接将变量加载到寄存器上，不再需要从内存中访问对象属性了，提升了执行效率的同时还减少了内存使用。</span></div><div style="margin-top: 22px; margin-bottom: 22px;"><br/></div></div></div></div></div></div></div></div><div><br/></div></span>
</div></body></html> 